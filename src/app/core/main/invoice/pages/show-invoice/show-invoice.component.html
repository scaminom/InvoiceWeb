<div *ngIf="invoice" class="p-8 bg-white shadow-2xl rounded-xl" id="contentToConvert">
  <div class="border-b pb-6 mb-6">
    <h2 class="text-4xl font-extrabold text-gray-800 mb-4">Factura N° {{ invoice.secuencial }}</h2>
    <div class="text-gray-600 space-y-2">
      <p><strong class="font-semibold">Fecha de Emisión:</strong> {{ invoice.fechaEmision | date }}</p>
      <p><strong class="font-semibold">Clave de Acceso:</strong> {{ invoice.claveAcceso }}</p>
      <p><strong class="font-semibold">Estado:</strong> <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full">{{ invoice.estado }}</span></p>
    </div>
  </div>

  <div class="flex flex-row justify-between">
    <div class="mb-8">
      <h3 class="text-2xl font-semibold text-gray-700 mb-4">Cliente</h3>
      <div class="text-gray-600 space-y-2">
        <p><strong class="font-semibold">Nombre:</strong> {{ invoice.cliente.razonSocialComprador }}</p>
        <p><strong class="font-semibold">Identificación:</strong> {{ invoice.cliente.identificacionComprador }}</p>
        <p><strong class="font-semibold">Correo:</strong> {{ invoice.cliente.correo }}</p>
        <p><strong class="font-semibold">Dirección:</strong> {{ invoice.cliente.direccionComprador }}</p>
      </div>
    </div>
  
    <div class="mb-8">
      <h3 class="text-2xl font-semibold text-gray-700 mb-4">Establecimiento</h3>
      <div class="text-gray-600 space-y-2">
        <p><strong class="font-semibold">Razón Social:</strong> {{ invoice.establecimiento.razonSocial }}</p>
        <p><strong class="font-semibold">Dirección:</strong> {{ invoice.establecimiento.dirEstablecimiento }}</p>
      </div>
    </div>
  </div>

  <div class="mb-8">
    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Items</h3>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white rounded-xl shadow-sm overflow-hidden">
        <thead class="bg-gray-100">
          <tr>
            <th class="py-4 px-6 text-left text-gray-700 font-medium">Producto</th>
            <th class="py-4 px-6 text-left text-gray-700 font-medium">Cantidad</th>
            <th class="py-4 px-6 text-left text-gray-700 font-medium">Precio Unitario</th>
            <th class="py-4 px-6 text-left text-gray-700 font-medium">Descuento</th>
            <th class="py-4 px-6 text-left text-gray-700 font-medium">Total Sin Impuestos</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of invoice.items" class="even:bg-gray-50">
            <td class="py-4 px-6 border-t">{{ item.producto.nombre }}</td>
            <td class="py-4 px-6 border-t">{{ item.cantidad }}</td>
            <td class="py-4 px-6 border-t">{{ item.precioUnitario | currency }}</td>
            <td class="py-4 px-6 border-t">{{ item.descuento | currency }}</td>
            <td class="py-4 px-6 border-t">{{ item.precioTotalSinImpuesto | currency }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="mb-8">
    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Totales</h3>
    <div class="text-gray-600 space-y-2">
      <p><strong class="font-semibold">Total Sin Impuestos:</strong> {{ invoice.totalSinImpuestos | currency }}</p>
      <p><strong class="font-semibold">Total Descuento:</strong> {{ invoice.totalDescuento | currency }}</p>
      <p><strong class="font-semibold">Propina:</strong> {{ invoice.propina | currency }}</p>
      <p><strong class="font-semibold">Importe Total:</strong> {{ invoice.importeTotal | currency }}</p>
    </div>
  </div>
</div>
